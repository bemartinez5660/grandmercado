<form [formGroup]="receiverForm" (ngSubmit)="onSubmit()" fxLayout="column">
  <mat-form-field appearance="fill" class="w-100">
    <mat-label class="text-up">{{
      "shop.checkout.receiver.name" | translate
    }}</mat-label>
    <input
      matInput
      type="text"
      id="receiver_name"
      formControlName="name"
      required
    />
  </mat-form-field>
  <div
    fxLayout="row"
    fxLayout.lt-sm="column"
    fxLayoutGap="10px"
    fxLayoutAlign="space-between"
    class="w-100"
  >
    <mat-form-field appearance="fill" fxFlex="48">
      <mat-label class="text-up">{{
        "shop.checkout.receiver.phone" | translate
      }}</mat-label>
      <ngx-mat-intl-tel-input
        [onlyCountries]="['cu']"
        [enablePlaceholder]="true"
        name="receiver_phone"
        formControlName="phone"
        #phoneInput
      ></ngx-mat-intl-tel-input>
    </mat-form-field>
    <mat-form-field appearance="fill" fxFlex="48">
      <mat-label class="text-up">{{
        "shop.checkout.receiver.ci" | translate
      }}</mat-label>
      <input
        matInput
        type="text"
        id="receiver_personal_id"
        formControlName="personal_id"
        required
      />
      <mat-error *ngIf="receiverForm.get('personal_id')?.invalid">
        {{ "shop.checkout.receiver.ci.error" | translate }}
      </mat-error>
    </mat-form-field>
  </div>
  <div
    fxLayout="row"
    fxLayout.lt-sm="column"
    fxLayoutGap="10px"
    fxLayoutAlign="space-between"
    class="w-100"
  >
    <mat-form-field appearance="fill" fxFlex="48">
      <mat-label class="text-up">Provincia</mat-label>
      <mat-select name="receiver_province" formControlName="province" required>
        <mat-option
          *ngFor="let province of provinces$ | async"
          [value]="province.id"
        >
          {{ province.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="fill" fxFlex="48">
      <mat-label class="text-up">{{
        "shop.checkout.receiver.city" | translate
      }}</mat-label>
      <input
        matInput
        type="text"
        id="receiver_city"
        formControlName="city"
        required
      />
    </mat-form-field>
  </div>

  <mat-form-field appearance="fill" class="w-100">
    <mat-label class="text-up">{{
      "shop.checkout.receiver.address" | translate
    }}</mat-label>
    <textarea
      matInput
      rows="4"
      type="text"
      id="receiver_address"
      formControlName="address"
      required
    >
    </textarea>
  </mat-form-field>

  <div fxLayout="row" fxLayoutAlign="end" fxLayoutAlign.lt-sm="center">
    <button class="btn-primary" type="submit" [disabled]="receiverForm.invalid">
      <div class="btn-primary__content">
        <span class="btn-primary__ele">{{
          "shop.checkout.receiver.add" | translate
        }}</span>
        <span
          class="iconify btn-primary__ele"
          data-icon="akar-icons:person-add"
        ></span>
      </div>
    </button>
  </div>
</form>
